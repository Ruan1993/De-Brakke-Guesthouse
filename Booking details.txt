To make this booking form "live" (meaning it actually checks availability and blocks off dates that are already taken), you need a real-time database.

Since you are hosting on Netlify and using Vanilla JavaScript, Firebase (Firestore) is the perfect solution. It is free, easy to integrate, and updates instantly.

To keep that "Luxury" feel, standard HTML date pickers (<input type="date">) are too ugly and limited. We will switch to Flatpickr, a lightweight JavaScript library that lets us visually "grey out" booked dates so users can't select them.

Here is the step-by-step implementation.

Step 1: Set up Firebase (The Database)
Go to console.firebase.google.com and create a new project (e.g., "De Brakke Booking").

Go to Build > Firestore Database and click Create Database.

Choose Start in Test Mode (this allows reading/writing without authentication for nowâ€”easier for development).

Go to Project Settings (gear icon) > General > Your apps > Web (</>).

Register the app and copy the firebaseConfig object. You will need this for the code below.

Step 2: Update index.html
We need to add the Flatpickr library (for the luxury calendar) and the Firebase SDK.

Add this inside your <head> tag:

HTML

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/airbnb.css"> ```

**Add this at the bottom of your `<body>` (before your `main.js`):**
```html
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // TODO: Replace with your specific Firebase config object from the console
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT_ID.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Make db globally available to your main.js (optional, or write logic here)
  window.db = db;
  window.collection = collection;
  window.addDoc = addDoc;
  window.getDocs = getDocs;
</script>
Step 3: Update main.js to Handle Bookings
We will replace your old form logic. This script will:

Fetch all existing bookings from Firebase.

Initialize Flatpickr and "disable" (grey out) those dates.

Save new bookings to Firebase when the form is submitted.

Replace your booking logic in main.js with this:

JavaScript

document.addEventListener('DOMContentLoaded', async () => {
    
    // --- 1. CONFIGURATION ---
    // Wait for Firebase to load from the HTML module
    const waitForFirebase = setInterval(async () => {
        if (window.db) {
            clearInterval(waitForFirebase);
            initBookingSystem();
        }
    }, 100);

    async function initBookingSystem() {
        console.log("Initializing Booking System...");
        
        // --- 2. FETCH EXISTING BOOKINGS ---
        const bookingsRef = window.collection(window.db, "bookings");
        const snapshot = await window.getDocs(bookingsRef);
        
        let disabledDates = [];
        
        snapshot.forEach((doc) => {
            const data = doc.data();
            // Add the range to the disabled list
            disabledDates.push({
                from: data.checkIn,
                to: data.checkOut
            });
        });

        // --- 3. SETUP FLATPICKR (LUXURY CALENDAR) ---
        // We attach two calendars: Check-in and Check-out
        
        const commonConfig = {
            dateFormat: "Y-m-d",
            minDate: "today",
            disable: disabledDates, // This greys out taken dates!
            disableMobile: "true", // Forces the nice calendar on mobile too
            locale: {
                firstDayOfWeek: 1 // Start week on Monday
            }
        };

        const checkInPicker = flatpickr("#check-in", {
            ...commonConfig,
            onChange: function(selectedDates, dateStr, instance) {
                // When check-in is picked, set check-out minDate to the next day
                checkOutPicker.set('minDate', dateStr);
                // Also open the check-out calendar automatically
                setTimeout(() => checkOutPicker.open(), 100);
            }
        });

        const checkOutPicker = flatpickr("#check-out", {
            ...commonConfig
        });


        // --- 4. HANDLE FORM SUBMISSION ---
        const bookingForm = document.getElementById('booking-form');
        const msgDiv = document.getElementById('booking-message');

        if (bookingForm) {
            bookingForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const btn = bookingForm.querySelector('button[type="submit"]');
                const originalText = btn.innerText;
                
                // Basic Data Gathering
                const formData = new FormData(bookingForm);
                const checkIn = formData.get('check-in');
                const checkOut = formData.get('check-out');
                const name = formData.get('name');
                const email = "user@example.com"; // Add email field to your HTML if needed
                const adults = formData.get('adults');

                // Validation: Check if dates are empty
                if(!checkIn || !checkOut) {
                    alert("Please select valid dates.");
                    return;
                }

                btn.innerText = "Processing...";
                btn.disabled = true;

                try {
                    // Save to Firebase
                    await window.addDoc(window.collection(window.db, "bookings"), {
                        checkIn: checkIn,
                        checkOut: checkOut,
                        name: name,
                        guests: adults,
                        createdAt: new Date().toISOString()
                    });

                    // Success UI
                    msgDiv.classList.remove('hidden', 'text-red-600');
                    msgDiv.classList.add('text-green-600');
                    msgDiv.innerText = `Success! Booked for ${checkIn} to ${checkOut}.`;
                    
                    // Refresh page after 2 seconds to show updated calendar
                    setTimeout(() => location.reload(), 2000);

                } catch (error) {
                    console.error("Error adding document: ", error);
                    msgDiv.innerText = "Error processing booking. Please try again.";
                    msgDiv.classList.remove('hidden');
                    btn.innerText = originalText;
                    btn.disabled = false;
                }
            });
        }
    }
});
Step 4: Quick HTML Tweak (Crucial)
Flatpickr works best on standard text inputs, not type="date". Change your input types in index.html:

Change this:

HTML

<input type="date" id="check-in" ... >
<input type="date" id="check-out" ... >
To this:

HTML

<input type="text" id="check-in" placeholder="Select Date" class="...">
<input type="text" id="check-out" placeholder="Select Date" class="...">
(Keep your existing Tailwind classes on them so they look styled).

Why this is better than what you had:
Visual Availability: Users immediately see greyed-out dates on the calendar. They don't have to guess.

Prevents Double Booking: Flatpickr physically prevents clicking on a date that is in your database.

Real-Time: As soon as someone books, if another user refreshes the page, those dates are gone.